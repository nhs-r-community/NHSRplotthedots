[{"path":[]},{"path":"/CODE_OF_CONDUCT.html","id":"our-pledge","dir":"","previous_headings":"","what":"Our Pledge","title":"Contributor Covenant Code of Conduct","text":"members, contributors, leaders pledge make participation community harassment-free experience everyone, regardless age, body size, visible invisible disability, ethnicity, sex characteristics, gender identity expression, level experience, education, socio-economic status, nationality, personal appearance, race, caste, color, religion, sexual identity orientation. pledge act interact ways contribute open, welcoming, diverse, inclusive, healthy community.","code":""},{"path":"/CODE_OF_CONDUCT.html","id":"our-standards","dir":"","previous_headings":"","what":"Our Standards","title":"Contributor Covenant Code of Conduct","text":"Examples behavior contributes positive environment community include: Demonstrating empathy kindness toward people respectful differing opinions, viewpoints, experiences Giving gracefully accepting constructive feedback Accepting responsibility apologizing affected mistakes, learning experience Focusing best just us individuals, overall community Examples unacceptable behavior include: use sexualized language imagery, sexual attention advances kind Trolling, insulting derogatory comments, personal political attacks Public private harassment Publishing others’ private information, physical email address, without explicit permission conduct reasonably considered inappropriate professional setting","code":""},{"path":"/CODE_OF_CONDUCT.html","id":"enforcement-responsibilities","dir":"","previous_headings":"","what":"Enforcement Responsibilities","title":"Contributor Covenant Code of Conduct","text":"Community leaders responsible clarifying enforcing standards acceptable behavior take appropriate fair corrective action response behavior deem inappropriate, threatening, offensive, harmful. Community leaders right responsibility remove, edit, reject comments, commits, code, wiki edits, issues, contributions aligned Code Conduct, communicate reasons moderation decisions appropriate.","code":""},{"path":"/CODE_OF_CONDUCT.html","id":"scope","dir":"","previous_headings":"","what":"Scope","title":"Contributor Covenant Code of Conduct","text":"Code Conduct applies within community spaces, also applies individual officially representing community public spaces. Examples representing community include using official e-mail address, posting via official social media account, acting appointed representative online offline event.","code":""},{"path":"/CODE_OF_CONDUCT.html","id":"enforcement","dir":"","previous_headings":"","what":"Enforcement","title":"Contributor Covenant Code of Conduct","text":"Instances abusive, harassing, otherwise unacceptable behavior may reported community leaders responsible enforcement NHS-R Community. complaints reviewed investigated promptly fairly. community leaders obligated respect privacy security reporter incident.","code":""},{"path":"/CODE_OF_CONDUCT.html","id":"enforcement-guidelines","dir":"","previous_headings":"","what":"Enforcement Guidelines","title":"Contributor Covenant Code of Conduct","text":"Community leaders follow Community Impact Guidelines determining consequences action deem violation Code Conduct:","code":""},{"path":"/CODE_OF_CONDUCT.html","id":"id_1-correction","dir":"","previous_headings":"Enforcement Guidelines","what":"1. Correction","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Use inappropriate language behavior deemed unprofessional unwelcome community. Consequence: private, written warning community leaders, providing clarity around nature violation explanation behavior inappropriate. public apology may requested.","code":""},{"path":"/CODE_OF_CONDUCT.html","id":"id_2-warning","dir":"","previous_headings":"Enforcement Guidelines","what":"2. Warning","title":"Contributor Covenant Code of Conduct","text":"Community Impact: violation single incident series actions. Consequence: warning consequences continued behavior. interaction people involved, including unsolicited interaction enforcing Code Conduct, specified period time. includes avoiding interactions community spaces well external channels like social media. Violating terms may lead temporary permanent ban.","code":""},{"path":"/CODE_OF_CONDUCT.html","id":"id_3-temporary-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"3. Temporary Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: serious violation community standards, including sustained inappropriate behavior. Consequence: temporary ban sort interaction public communication community specified period time. public private interaction people involved, including unsolicited interaction enforcing Code Conduct, allowed period. Violating terms may lead permanent ban.","code":""},{"path":"/CODE_OF_CONDUCT.html","id":"id_4-permanent-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"4. Permanent Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Demonstrating pattern violation community standards, including sustained inappropriate behavior, harassment individual, aggression toward disparagement classes individuals. Consequence: permanent ban sort public interaction within community.","code":""},{"path":"/CODE_OF_CONDUCT.html","id":"attribution","dir":"","previous_headings":"","what":"Attribution","title":"Contributor Covenant Code of Conduct","text":"Code Conduct adapted Contributor Covenant, version 2.1, available https://www.contributor-covenant.org/version/2/1/code_of_conduct.html. Community Impact Guidelines inspired Mozilla’s code conduct enforcement ladder. answers common questions code conduct, see FAQ https://www.contributor-covenant.org/faq. Translations available https://www.contributor-covenant.org/translations.","code":""},{"path":"/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2021 NHS-R Community Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"/articles/NHSRplotthedots.html","id":"stable-period","dir":"Articles","previous_headings":"","what":"Stable period","title":"Introduction to the `NHSRplotthedots` package","text":"chart , can see centre line (mean) control limits calculated according XmR chart rules. points control limits within control showing ‘common-cause’ ‘natural’ variation. can see 8 sequential points coloured blue. triggered rule looks >=7 points one side mean. viewed period fewer breaches average detected, may hold learning value organisation.","code":"stable_set <- ae_attendances %>%   filter(     org_code == \"RRK\",     type == 1,     period < as.Date(\"2018-04-01\")   )  ptd_spc(   stable_set,   value_field = breaches,   date_field = period,   improvement_direction = \"decrease\" )"},{"path":"/articles/NHSRplotthedots.html","id":"change-point","dir":"Articles","previous_headings":"","what":"Change point","title":"Introduction to the `NHSRplotthedots` package","text":"first plot , can see change noticed 01/07/2019. understand reason change (merging two trusts), believe new normal range process, valid rebase point. rebase (change modelling period control limits), can pass vector dates point wish rebase using ptd_rebase() function.  can see limit calculation now shifted rebase point.","code":"change_set <- ae_attendances %>%   filter(org_code == \"RRK\", type == 1)  ptd_spc(change_set,   value_field = breaches,   date_field = period,   improvement_direction = \"decrease\",   rebase = ptd_rebase(as.Date(\"2018-07-01\")) ) #> Warning in ptd_add_short_group_warnings(.): Some groups have 'n < 12' #> observations. These have trial limits, which will be revised with each #> additional observation until 'n = fix_after_n_points' has been reached."},{"path":"/articles/NHSRplotthedots.html","id":"faceting","dir":"Articles","previous_headings":"","what":"Faceting","title":"Introduction to the `NHSRplotthedots` package","text":"ggplot2, facet refers splitting plotting variables, separate plots regions. Imagine want SPC trusts dataset, specialties trust. Facet help , can pass field controls ptd_spc argument facet_field. pick 6 trusts random plot breaches, faceting across . ’ll also combine couple options specific plot. done ptd_create_ggplot function backend, also works generic plot. find available options, see help-file : ?ptd_create_ggplot. let x-axis scale change plot plot (otherwise look crushed larger trusts) also change x-axis breaks 3-months, 1 month looked busy.)  , point-size seems big, worth replacing y-axis title something better. , done plot function arguments:  plots based ggplot2 can override elements styling theme additional arguments using theme, using theme_override new theme elements list.","code":"facet_set <- ae_attendances %>%   filter(     org_code %in% c(\"RRK\", \"RJC\", \"RJ7\", \"R1K\", \"R1H\", \"RQM\"),     type == 1,     period < as.Date(\"2018-04-01\")   )  ptd_spc(   facet_set,   value_field = breaches,   date_field = period,   facet_field = org_code,   improvement_direction = \"decrease\" ) %>%   plot(fixed_y_axis_multiple = FALSE, x_axis_breaks = \"3 months\") facet_set <- ae_attendances %>%   filter(     org_code %in% c(\"RRK\", \"RJC\", \"RJ7\", \"R1K\", \"R1H\", \"RQM\"),     type == 1,     period < as.Date(\"2018-04-01\")   )  ptd_spc(   facet_set,   value_field = breaches,   date_field = period,   facet_field = org_code,   improvement_direction = \"decrease\" ) %>%   plot(     fixed_y_axis_multiple = FALSE,     x_axis_breaks = \"3 months\",     point_size = 2,     y_axis_label = \"Number of 4-hour A&E target breaches\"   ) facet_set <- ae_attendances %>%   filter(     org_code %in% c(\"RRK\", \"RJC\", \"RJ7\", \"R1K\", \"R1H\", \"RQM\"),     type == 1,     period < as.Date(\"2018-04-01\")   )  a <- ptd_spc(   facet_set,   value_field = breaches,   date_field = period,   facet_field = org_code,   improvement_direction = \"decrease\" ) %>%   plot(     fixed_y_axis_multiple = FALSE,     x_axis_breaks = \"3 months\",     point_size = 2,     y_axis_label = \"Number of 4-hour A&E target breaches\"   )  a + theme(axis.text.x = element_text(size = 6, angle = 45))"},{"path":"/articles/NHSRplotthedots.html","id":"interactive-plots","dir":"Articles","previous_headings":"Faceting","what":"Interactive plots","title":"Introduction to the `NHSRplotthedots` package","text":"’s also possible create interactive plots using plotly package replacing call plot ptd_create_plotly. takes arguments plot (ptd_create_ggplot). instance, can use code last example make interactive version:","code":"ptd_spc(   facet_set,   value_field = breaches,   date_field = period,   facet_field = org_code,   improvement_direction = \"decrease\" ) %>%   ptd_create_plotly(     fixed_y_axis_multiple = FALSE,     x_axis_breaks = \"3 months\",     point_size = 2,     y_axis_label = \"Number of 4-hour A&E target breaches\",     icons_position = \"none\"   )"},{"path":"/articles/NHSRplotthedots.html","id":"come-and-join-us","dir":"Articles","previous_headings":"","what":"Come and join us!","title":"Introduction to the `NHSRplotthedots` package","text":"collaborative project still early life. contributors volunteers, volunteers welcome (’s even stuff doesn’t require R coding help !). Find : github.com/nhs-r-community/NHSRplotthedots","code":""},{"path":[]},{"path":"/articles/deviations.html","id":"treatment-of-outlying-points","dir":"Articles","previous_headings":"List of Deviations","what":"1. Treatment of outlying points","title":"Deviations from Excel defaults","text":"default, package screen outlying points, removing moving range calculation, hence process limits calculation. line published paper: Nelson, Lloyd S. (1982) Control Charts Individual Measurements, Journal Quality Technology 14(3): 172-173 discussed book: Provost, Lloyd P. & Murray, Sandra K. (2011) Health Care Data Guide: Learning Data Improvement, San Francisco, CA: Jossey-Bass, pp.155, 192 “Making Data Count” Excel tools screen outlying points, points included moving range limits calculations. outlying points exist, process limits Excel tools therefore wider outlying points screened calculation. behaviour controlled screen_outliers argument. default, screen_outliers = TRUE. replicate Excel method, set argument screen_outliers = FALSE. two charts demonstrate default, -ride replicate Excel tools.","code":""},{"path":"/articles/deviations.html","id":"r-package-default","dir":"Articles","previous_headings":"List of Deviations > 1. Treatment of outlying points","what":"R Package Default:","title":"Deviations from Excel defaults","text":"SPC chart labelled ‘Data’ y-axis, dates 22 March 2021 8 April 2021, 1-day intervals, x-axis. left right line shows four grey common cause points followed single blue special cause improvement point followed 12 grey common cause points. caption reports upper process limit 4.6, mean 1.94 lower process limit -0.72.","code":"data <- c(1, 2, 1, 2, 10, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1) date <- seq(as.Date(\"2021-03-22\"), by = 1, length.out = 18) df <- tibble::tibble(data, date)  # screen_outliers = TRUE by default spc_data <- ptd_spc(df, value_field = data, date_field = date) spc_data %>%   plot() +   labs(     caption = paste(       \"UPL = \", round(spc_data$upl[1], 2),       \", Mean = \", round(spc_data$mean_col[1], 2),       \", LPL = \", round(spc_data$lpl[1], 2)     )   )"},{"path":"/articles/deviations.html","id":"over-riding-to-replicate-making-data-count-excel-output","dir":"Articles","previous_headings":"List of Deviations > 1. Treatment of outlying points","what":"Over-riding to replicate “Making Data Count” Excel output:","title":"Deviations from Excel defaults","text":"SPC chart labelled ‘Data’ y-axis, dates 22 March 2021 8 April 2021, 1-day intervals, x-axis. left right line shows four grey common cause points followed single blue special cause improvement point followed 12 grey common cause points. caption reports upper process limit 6.95, mean 1.94 lower process limit -3.06.","code":"# setting screen_outliers = FALSE produces the same output as Excel spc_data <- ptd_spc(df, value_field = data, date_field = date, screen_outliers = FALSE) spc_data %>%   plot() +   labs(     caption = paste(       \"UPL = \", round(spc_data$upl[1], 2),       \", Mean = \", round(spc_data$mean_col[1], 2),       \", LPL = \", round(spc_data$lpl[1], 2)     )   )"},{"path":"/articles/deviations.html","id":"breaking-of-lines","dir":"Articles","previous_headings":"List of Deviations","what":"2. Breaking of lines","title":"Deviations from Excel defaults","text":"default, package break process limit lines plot rebased. Excel tool draws lines continuous lines. However, rebasing change process, breaking lines clearly indicates change process happened. can controlled break_lines argument. 4 possible values: “” (default) “limit” (just break limit lines, leave process line connected) “process” (just break process line, leave limit lines connected) “none” (per Excel tool). Examples 4 shown :","code":""},{"path":"/articles/deviations.html","id":"r-package-default-1","dir":"Articles","previous_headings":"List of Deviations > 2. Breaking of lines","what":"R Package Default:","title":"Deviations from Excel defaults","text":"SPC chart labelled ‘Attendances’ y-axis, dates 1 April 2016 1 March 2019, 1-month intervals, x-axis. dates presented 45 degrees x-axis. line chart three sections, twelve grey common cause points process line. section upper process limit, mean, lower process limit lines, connected lines another section. process line also split three sections. caption states ‘trial limits created groups fewer 12 points exist. become reliable data added.’","code":"spc_data <- ae_attendances %>%   group_by(period) %>%   summarise(across(attendances, sum)) %>%   ptd_spc(attendances, period, rebase = as.Date(c(\"2017-04-01\", \"2018-04-01\"))) #> Warning in ptd_add_short_group_warnings(.): Some groups have 'n < 12' #> observations. These have trial limits, which will be revised with each #> additional observation until 'n = fix_after_n_points' has been reached.  plot(spc_data, break_lines = \"both\")"},{"path":"/articles/deviations.html","id":"just-breaking-the-limit-lines","dir":"Articles","previous_headings":"List of Deviations > 2. Breaking of lines","what":"Just breaking the limit lines:","title":"Deviations from Excel defaults","text":"SPC chart labelled ‘Attendances’ y-axis, dates 1 April 2016 1 March 2019, 1-month intervals, x-axis. line chart three sections, twelve grey common cause points process line. section upper process limit, mean, lower process limit lines, connected lines another section. process line unbroken. caption states ‘trial limits created groups fewer 12 points exist. become reliable data added.’","code":"plot(spc_data, break_lines = \"limits\")"},{"path":"/articles/deviations.html","id":"just-breaking-the-process-line","dir":"Articles","previous_headings":"List of Deviations > 2. Breaking of lines","what":"Just breaking the process line:","title":"Deviations from Excel defaults","text":"SPC chart labelled ‘Attendances’ y-axis, dates 1 April 2016 1 March 2019, 1-month intervals, x-axis. line chart three sections, twelve grey common cause points process line. section upper process limit, mean, lower process limits, lines unbroken sections. process line however broken sections. caption states ‘trial limits created groups fewer 12 points exist. become reliable data added.’","code":"plot(spc_data, break_lines = \"process\")"},{"path":"/articles/deviations.html","id":"over-riding-to-replicate-making-data-count-excel-output-1","dir":"Articles","previous_headings":"List of Deviations > 2. Breaking of lines","what":"Over-riding to replicate “Making Data Count” Excel output:","title":"Deviations from Excel defaults","text":"SPC chart labelled ‘Attendances’ y-axis, dates 1 April 2016 1 March 2019, 1-month intervals, x-axis. line chart three sections, twelve grey common cause points process line. section upper process limit, mean, lower process limits, lines unbroken sections. process line also unbroken sections. caption states ‘trial limits created groups fewer 12 points exist. become reliable data added.’","code":"plot(spc_data, break_lines = \"none\")"},{"path":"/articles/deviations.html","id":"x-axis-text-angle","dir":"Articles","previous_headings":"List of Deviations","what":"3. X Axis Text Angle","title":"Deviations from Excel defaults","text":"can seen plots , default package print x axis text rotated 45 degrees better utilisation space, readability. Excel’s behaviour print text 90 degrees axis. Text angle can -ridden passing ggplot theme() theme_override argument plot function. modifications documented ggplot2 theme documentation can made, case just need modify axis.text.x.","code":""},{"path":"/articles/deviations.html","id":"to-re-instate-90-degree-axis-text","dir":"Articles","previous_headings":"List of Deviations > 3. X Axis Text Angle","what":"To re-instate 90 degree axis text:","title":"Deviations from Excel defaults","text":"SPC chart labelled ‘Attendances’ y-axis, dates 1 April 2016 1 March 2019, 1-month intervals, x-axis. dates presented 90 degrees x-axis. line chart 36 grey common cause points process line. dashed lines upper lower process limits solid line mean. Find package code GitHub.","code":"ae_attendances %>%   group_by(period) %>%   summarise(across(attendances, sum)) %>%   ptd_spc(attendances, period) %>%   plot(theme_override = theme(axis.text.x = element_text(angle = 90)))"},{"path":"/articles/number-of-points-required.html","id":"how-many-points-are-required-for-robust-control-limits","dir":"Articles","previous_headings":"","what":"How many points are required for robust control limits?","title":"Number of points required","text":"-Chart / XMR chart often suggested best chart use fewer 12 data points. agreement many points need Even chart, experts reach consensus: 3 well known sources information relating Statistical Process Control, particularly Individual / X chart: Health Care Data Guide (p155) : “develop chart, recent 20 30 measurements used. chart, minimum number subgroups important since subgroup one data value”. Understanding Variation - Key Managing Chaos (p60): “Useful limits may constructed five six values” Data Sanity (First Edition p150): Presents table runs analysis, starting 10 data points (corresponding lower upper limit expected number runs) Let’s throw one reference : Practical Performance Measurement (p258) “still need minimum five consecutive values measure just get started establishing baseline represent current performance level… might even need five establish baseline… baseline, need least another three measure values, often eight, can sure whether performance changed .”","code":""},{"path":"/articles/number-of-points-required.html","id":"i-have-less-than-12-points--what-should-i-do","dir":"Articles","previous_headings":"","what":"I have less than 12 points. What should I do?","title":"Number of points required","text":"Wheeler says 5 6 good enough, , long 5 6 points, can begin use charts. However limits considered useful, rather robust. therefore refer ‘trial’ limits.","code":""},{"path":"/articles/number-of-points-required.html","id":"what-is-meant-by-trial-limits","dir":"Articles","previous_headings":"","what":"What is meant by ‘trial limits’?","title":"Number of points required","text":"Just , due lack data, good can , time . new data point, limits revised. enough (.e. >=12 data points) calculations locked, time signal special cause variation occurs - example, long run mean. point, understand cause variation, might decide revise limits start long run. time limits revised, new limits considered ‘trial limits’ 12 () points collected, point can ‘locked’ .","code":""},{"path":"/articles/number-of-points-required.html","id":"what-does-this-tool-require","dir":"Articles","previous_headings":"","what":"What does this tool require?","title":"Number of points required","text":"tool defaults calculating control limits first 12 points area group.","code":""},{"path":"/articles/number-of-points-required.html","id":"are-there-any-other-charts-we-can-use-if-we-have-less-than-12-points","dir":"Articles","previous_headings":"","what":"Are there any other charts we can use if we have less than 12 points?","title":"Number of points required","text":"alternatives: run charts cumulative sum (cusum) charts However, individuals chart also advised one three “go ” charts less 12 data points available. package provides warning groups less 12 data points, advising trial limits place.","code":""},{"path":"/articles/other-spc-tools.html","id":"differing-visual-styles","dir":"Articles","previous_headings":"","what":"Differing visual styles","title":"Other SPC tools","text":"NHSE “Making Data Count”(MDC) training programme popularised use SPC NHS, since 2019 invested large amount time developing people major NHS organisations across England. result large number people NHS moderate familiarity SPC blue, orange, grey “plot dots” visual style. enables meeting time spent making data-driven decisions, discussing interpretation charts . tables make distinction tools align MDC visual style. Tools align closely can used interchangably without risk introducing chart interpretation overheads meetings decision-making.","code":""},{"path":[]},{"path":[]},{"path":"/articles/other-spc-tools.html","id":"alternatives-closely-related-to-spc","dir":"Articles","previous_headings":"","what":"Alternatives closely related to SPC:","title":"Other SPC tools","text":"END","code":""},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Christopher Reading. Maintainer, author. Simon Wellesley-Miller. Author. Zoë Turner. Author. Tom Jemmett. Author. Tom Smith. Author. Chris Mainey. Author. John MacKintosh. Author. Marcos Fabietti. Author. Fran Barton. Author. NHS-R community. Copyright holder.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Reading C, Wellesley-Miller S, Turner Z, Jemmett T, Smith T, Mainey C, MacKintosh J, Fabietti M, Barton F (2024). NHSRplotthedots: Draw XmR Charts NHSE/'Making Data Count' Programme. R package version 0.1.0.9000, https://github.com/nhs-r-community/NHSRplotthedots, https://nhs-r-community.github.io/NHSRplotthedots.","code":"@Manual{,   title = {NHSRplotthedots: Draw XmR Charts for NHSE/I 'Making Data Count' Programme},   author = {Christopher Reading and Simon Wellesley-Miller and Zoë Turner and Tom Jemmett and Tom Smith and Chris Mainey and John MacKintosh and Marcos Fabietti and Fran Barton},   year = {2024},   note = {R package version 0.1.0.9000,     https://github.com/nhs-r-community/NHSRplotthedots},   url = {https://nhs-r-community.github.io/NHSRplotthedots}, }"},{"path":"/index.html","id":"nhsrplotthedots-","dir":"","previous_headings":"","what":"Draw XmR Charts for NHSE/I Making Data Count Programme","title":"Draw XmR Charts for NHSE/I Making Data Count Programme","text":"package built NHS-R community provide tools drawing statistical process control (SPC) charts. package supports NHS England’s ‘Making Data Count’ programme, allows users draw XmR charts, use change points, apply rules summary indicators rules breached. Please aware package early stages development, features may change.","code":""},{"path":"/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Draw XmR Charts for NHSE/I Making Data Count Programme","text":"","code":"# install from CRAN install.packages(\"NHSRplotthedots\")  # Or install the development version from GitHub using {remotes} package: # install.packages(\"remotes\") remotes::install_github(\"https://github.com/nhs-r-community/NHSRplotthedots\", build_vignettes = TRUE)"},{"path":"/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"Draw XmR Charts for NHSE/I Making Data Count Programme","text":"Welcome NHS-R community’s package building specific type statistical process control (SPC) chart, XmR chart. aiming support NHS England’s ‘Making Data Count’ programme. programme encourages boards, managers, analyst teams present data ways show change time drive better understanding indicators ‘RAG’ (red, amber, green) rated board reports often present. help files vignettes within package tell possible options controlling charts, simple examples type chart package produces. use ae_attendances dataset NHSRdatasets package bit dplyr code select organisations.  plot ok , can specify control options explicitly pass plot() function.  , equivalently: can also use summary() function get basic statistics SPC data frame. function prints SPC options, returns summarised results table: assign summary table variable use later:","code":"library(NHSRplotthedots) library(NHSRdatasets) library(dplyr)  sub_set <- ae_attendances |>   filter(org_code == \"RQM\", type == 1, period < as.Date(\"2018-04-01\"))  sub_set |>   ptd_spc(     value_field = breaches,     date_field = period,     improvement_direction = \"decrease\"   ) sub_set |>   ptd_spc(     value_field = breaches,     date_field = period,     improvement_direction = \"decrease\"   ) |>   plot(     y_axis_label = \"4-hour wait breaches\",     main_title = \"SPC of A&E waiting time breaches for RQM\"   ) sub_set |>   ptd_spc(     value_field = breaches,     date_field = period,     improvement_direction = \"decrease\"   ) |>   ptd_create_ggplot(     y_axis_label = \"4-hour wait breaches\",     main_title = \"SPC of A&E waiting time breaches for RQM\"   ) summary <- sub_set |>   ptd_spc(     value_field = breaches,     date_field = period,     improvement_direction = \"decrease\",     target = 1200   ) |>   summary() #> Plot the Dots SPC options: #> ================================ #> value_field:          'breaches' #> date_field:           'period' #> facet_field:          not set #> rebase:               not set #> fix_after_n_points:   not set #> improvement_direction:'decrease' #> target:               '1200' #> trajectory:           not set #> screen_outliers:      'TRUE' #> -------------------------------- summary$variation_type #> [1] \"common_cause\" summary$assurance_type #> [1] \"inconsistent\""},{"path":"/index.html","id":"interactive-plots-with-plotly","dir":"","previous_headings":"","what":"Interactive plots with Plotly","title":"Draw XmR Charts for NHSE/I Making Data Count Programme","text":"’s also possible generate interactive plots using plotly package replacing call plot ptd_create_plotly. function takes arguments plot/ptd_create_ggplot.","code":"sub_set |>   ptd_spc(     value_field = breaches,     date_field = period,     improvement_direction = \"decrease\"   ) |>   ptd_create_plotly(     y_axis_label = \"4-hour wait breaches\",     main_title = \"SPC of A&E waiting time breaches for RQM\"   )"},{"path":"/index.html","id":"adding-annotations-for-mean-and-process-limits","dir":"","previous_headings":"","what":"Adding annotations for mean and process limits","title":"Draw XmR Charts for NHSE/I Making Data Count Programme","text":"package (v0.2.0) supports annotating values mean upper lower process limits secondary (right-hand side) y axis, helpful audience. way achieve turn label_limits option:  rebased chart, mean process limit annotations show recent section.","code":"sub_set |>   ptd_spc(     value_field = breaches,     date_field = period,     improvement_direction = \"decrease\"   ) |>   ptd_create_ggplot(     y_axis_label = \"4-hour wait breaches\",     main_title = \"SPC of A&E waiting time breaches for RQM\",     label_limits = TRUE   )"},{"path":"/index.html","id":"getting-help","dir":"","previous_headings":"","what":"Getting help","title":"Draw XmR Charts for NHSE/I Making Data Count Programme","text":"find ptd_spc() function, can view help : Details extra plot controls can found using: view vignette (worked example), use:","code":"?ptd_spc ?ptd_create_ggplot vignette(\"intro\", package = \"NHSRplotthedots\")  vignette(package = \"NHSRplotthedots\")"},{"path":"/index.html","id":"contributing","dir":"","previous_headings":"","what":"Contributing","title":"Draw XmR Charts for NHSE/I Making Data Count Programme","text":"NHS-R Community project open anyone contribute way able. project released Contributor Code Conduct. contributing project, agree abide terms. want learn project, please join discussion NHS-R Community Slack group specific channel #proj-nhsr-plot--dots. simplest way contribute raise issue detailing feature functionality like see added, unexpected behaviour bugs experienced.","code":""},{"path":"/reference/GeomPTDIcon.html","id":null,"dir":"Reference","previous_headings":"","what":"GeomPTDIcon — GeomPTDIcon","title":"GeomPTDIcon — GeomPTDIcon","text":"Geom PTD icons. See geom_ptd_icon().","code":""},{"path":"/reference/GeomPTDIcon.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"GeomPTDIcon — GeomPTDIcon","text":"","code":"GeomPTDIcon"},{"path":"/reference/GeomPTDIcon.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"GeomPTDIcon — GeomPTDIcon","text":"object class GeomPTDIcon (inherits Geom, ggproto, gg) length 6.","code":""},{"path":"/reference/NHSRplotthedots-package.html","id":null,"dir":"Reference","previous_headings":"","what":"NHSRplotthedots: Draw XmR Charts for NHSE/I 'Making Data Count' Programme — NHSRplotthedots-package","title":"NHSRplotthedots: Draw XmR Charts for NHSE/I 'Making Data Count' Programme — NHSRplotthedots-package","text":"Provides tools drawing Statistical Process Control (SPC) charts. package supports NHSE/programme 'Making Data Count', allows users draw XmR charts, use change points apply rules summary indicators rules breached.","code":""},{"path":[]},{"path":"/reference/NHSRplotthedots-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"NHSRplotthedots: Draw XmR Charts for NHSE/I 'Making Data Count' Programme — NHSRplotthedots-package","text":"Maintainer: Christopher Reading christopher.reading1@nhs.net Authors: Simon Wellesley-Miller simon.wellesley-miller@nhs.net Zoë Turner Zoe.Turner2@nottshc.nhs.uk (ORCID) Tom Jemmett thomas.jemmett@nhs.net (ORCID) Tom Smith thomas.smith5@nuh.nhs.uk Chris Mainey c.mainey@nhs.net (ORCID) John MacKintosh john.mackintosh3@nhs.scot Marcos Fabietti marcos.fabietti@nuh.nhs.uk Fran Barton francis.barton@nhs.net (ORCID) contributors: NHS-R community nhs.rcommunity@nhs.net [copyright holder]","code":""},{"path":"/reference/geom_ptd_icon.html","id":null,"dir":"Reference","previous_headings":"","what":"PTD Icons — geom_ptd_icon","title":"PTD Icons — geom_ptd_icon","text":"Inserts Making Data Count icons variation/assurance plot","code":""},{"path":"/reference/geom_ptd_icon.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"PTD Icons — geom_ptd_icon","text":"","code":"geom_ptd_icon(   data = NULL,   icons_size = 8L,   icons_position = c(\"top right\", \"bottom right\", \"bottom left\", \"top left\"),   ... )"},{"path":"/reference/geom_ptd_icon.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"PTD Icons — geom_ptd_icon","text":"data dataframe plot. Must type ptd_spc_df icons_size size icons icons_position position icons plot ... currently unused","code":""},{"path":"/reference/ptd_create_ggplot.html","id":null,"dir":"Reference","previous_headings":"","what":"Create ggplot2 — ptd_create_ggplot","title":"Create ggplot2 — ptd_create_ggplot","text":"Creates ggplot2 object using parameters passed .","code":""},{"path":"/reference/ptd_create_ggplot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create ggplot2 — ptd_create_ggplot","text":"","code":"ptd_create_ggplot(   x,   point_size = 4,   percentage_y_axis = FALSE,   main_title,   x_axis_label,   y_axis_label,   fixed_x_axis_multiple = TRUE,   fixed_y_axis_multiple = TRUE,   x_axis_date_format = \"%d/%m/%y\",   x_axis_breaks = NULL,   y_axis_breaks = NULL,   label_limits = FALSE,   icons_size = 8L,   icons_position = c(\"top right\", \"bottom right\", \"bottom left\", \"top left\", \"none\"),   colours = ptd_spc_colours(),   theme_override = NULL,   break_lines = c(\"both\", \"limits\", \"process\", \"none\"),   ... )"},{"path":"/reference/ptd_create_ggplot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create ggplot2 — ptd_create_ggplot","text":"x object created ptd_spc() point_size Specify plotting point size ggplot2 output. default 2.5. percentage_y_axis Specify whether y axis values percentages. Accepted values TRUE percentage y axis, FALSE integer y axis. Defaults FALSE. main_title Specify character string value plot title. x_axis_label Specify character string value x axis title. y_axis_label Specify character string value y axis title. fixed_x_axis_multiple Specify whether, producing faceted spc, x axis fixed facet plots. Accepted values TRUE fixed x axes FALSE individual x axes. fixed_y_axis_multiple Specify whether, producing faceted spc, y axis fixed facet plots. Accepted values TRUE fixed y axes FALSE individual y axes. x_axis_date_format Specify dates x axis displayed. format provided character string using 'd m Y' -type syntax. x_axis_breaks Specify interval value breaks x axis. value character string expressing interval length type, e.g. \"3 months\", \"7 days\". y_axis_breaks Specify interval value breaks y axis. value numeric vector length 1, either integer integer scales decimal value percentage scales. option ignored faceting use. label_limits Whether add secondary y axis just provides labels values UCL, LCL mean. default FALSE. icons_size size icons, defined terms font size. Defaults 8. icons_position show icons, either \"top right\" (default), \"bottom right\", \"bottom left\", \"top left\", \"none\". colours Specify colours use plot. Use ptd_spc_colours() function change defaults. theme_override Specify list containing ggplot2 theme elements can used override default appearance plot. break_lines Whether break lines rebase happens. Defaults \"\", can break just \"limits\" lines, \"process\" lines, \"none\". ... Currently ignored","code":""},{"path":"/reference/ptd_create_ggplot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create ggplot2 — ptd_create_ggplot","text":"ggplot2 object","code":""},{"path":"/reference/ptd_create_plotly.html","id":null,"dir":"Reference","previous_headings":"","what":"Create plotly — ptd_create_plotly","title":"Create plotly — ptd_create_plotly","text":"Creates plotly object using parameters passed .","code":""},{"path":"/reference/ptd_create_plotly.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create plotly — ptd_create_plotly","text":"","code":"ptd_create_plotly(   x,   point_size = 4,   percentage_y_axis = FALSE,   main_title,   x_axis_label,   y_axis_label,   fixed_x_axis_multiple = TRUE,   fixed_y_axis_multiple = TRUE,   x_axis_date_format = \"%d/%m/%y\",   x_axis_breaks = NULL,   y_axis_breaks = NULL,   icons_size = 0.15,   icons_position = c(\"top right\", \"bottom right\", \"bottom left\", \"top left\", \"none\"),   colours = ptd_spc_colours(),   theme_override = NULL,   break_lines = c(\"both\", \"limits\", \"process\", \"none\"),   ... )"},{"path":"/reference/ptd_create_plotly.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create plotly — ptd_create_plotly","text":"x object created ptd_spc() point_size Specify plotting point size ggplot output. Default 2.5. percentage_y_axis Specify whether y axis values percentages. Accepted values TRUE percentage y axis, FALSE integer y axis. Defaults FALSE. main_title Specify character string value ggplot title. x_axis_label Specify character string value x axis title. y_axis_label Specify character string value y axis title. fixed_x_axis_multiple Specify whether, producing faceted spc, x axis fixed facet plots. Accepted values TRUE fixed x axes FALSE individual x axes. fixed_y_axis_multiple Specify whether, producing faceted spc, y axis fixed facet plots. Accepted values TRUE fixed y axes FALSE individual y axes. x_axis_date_format Specify dates x axis displayed. Format provided character string using 'd m Y' etc syntax. x_axis_breaks Specify interval value breaks x axis. Value character string expressing interval length type, e.g. \"3 months\", \"7 days\". y_axis_breaks Specify interval value breaks y axis. Value numeric vector length 1, either integer integer scales decimal value percentage scales. option ignored faceting use. icons_size size icons, defined terms font size. Defaults 0.15. icons_position show icons, either \"top right\" (default), \"bottom right\", \"bottom left\", \"top left\", \"none\". colours Specify colours use plot, use ptd_spc_colours() function change defaults. theme_override Specify list containing ggplot theme elements can used override default appearance plot. break_lines whether break lines rebase happens. Defaults \"\", can break just \"limits\" lines, \"process\" lines, \"none\". ... currently ignored","code":""},{"path":"/reference/ptd_create_plotly.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create plotly — ptd_create_plotly","text":"plotly object","code":""},{"path":"/reference/ptd_rebase.html","id":null,"dir":"Reference","previous_headings":"","what":"Rebase — ptd_rebase","title":"Rebase — ptd_rebase","text":"Produces object can used rebasing SPC chart. method provides two different ways rebase: can either provide single vector dates, rebase every facet SPC dates can provide named vectors dates, names correspond names facets, order rebase faceted chart.","code":""},{"path":"/reference/ptd_rebase.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rebase — ptd_rebase","text":"","code":"ptd_rebase(...)"},{"path":"/reference/ptd_rebase.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rebase — ptd_rebase","text":"... Either single vector dates, named vectors dates. See examples.","code":""},{"path":"/reference/ptd_rebase.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rebase — ptd_rebase","text":"list","code":""},{"path":"/reference/ptd_rebase.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Rebase — ptd_rebase","text":"","code":"# If you aren't using a faceted chart, or you want to rebase each facet at # the same dates, then you can simply call this method with a vector of dates. # For example, to rebase on the 1^st^ January 2020 and 22^nd^ March 2020:  ptd_rebase(as.Date(c(\"2020-01-01\", \"2020-03-22\"))) #> [1] \"2020-01-01\" \"2020-03-22\"  # If you are using a faceted chart, and wish to rebase each facet with # different dates, then you can call this method, naming each vector of dates # with the name of the facet. If there are facets that you don't need to rebase # you can simply ignore them. For example, if you had a chart with facets \"a\", # \"b\", and \"c\", and you wanted to rebase \"a\" on the 1^st^ January 2020, and # \"b\" on the 22^nd^ March 2020:  ptd_rebase(\"a\" = as.Date(\"2020-01-01\"), \"b\" = as.Date(\"2020-03-22\")) #> $a #> [1] \"2020-01-01\" #>  #> $b #> [1] \"2020-03-22\" #>"},{"path":"/reference/ptd_spc.html","id":null,"dir":"Reference","previous_headings":"","what":"SPC Plotting Function — ptd_spc","title":"SPC Plotting Function — ptd_spc","text":"ptd_spc returns plot object data table SPC values using NHSI 'plot dots' logic.","code":""},{"path":"/reference/ptd_spc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"SPC Plotting Function — ptd_spc","text":"","code":"ptd_spc(   .data,   value_field,   date_field,   facet_field,   rebase = ptd_rebase(),   fix_after_n_points = NULL,   improvement_direction = \"increase\",   target = ptd_target(),   trajectory,   screen_outliers = TRUE )"},{"path":"/reference/ptd_spc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"SPC Plotting Function — ptd_spc","text":".data data frame containing value field, date field, category field (faceting). gaps time series category. value_field Specify field name contains value data, plotted y axis. field name can specified using non-standard evaluation (.e. without quotation marks). date_field Specify field name contains date data, plotted x axis. field name can specified using non-standard evaluation (.e. without quotation marks). facet_field Optional: Specify field name contains grouping/ faceting variable. SPC logic applied group separately, outputs combined. Currently accepts 1 variable . field name can specified using non-standard evaluation (.e. without quotation marks). rebase Specify date vector dates rebase, , facet_field set, named list date vectors rebase. item list named facet wish rebase. See ptd_rebase(). fix_after_n_points Specify number points fix SPC calculations. improvement_direction Specify whether process improvement represented increase decrease measured variable, neutral. Accepted values 'increase' increase improvement, 'decrease' decrease improvement, 'neutral' neither direction represents improvement. Defaults 'increase'. target Specify single value, apply target every facet SPC chart, named values targets, names correspond names facets, order different targets facet. See ptd_target(). trajectory Specify field name contains trajectory value. field name can specified using non-standard evaluation (.e. without quotation marks). screen_outliers Whether screen outliers calculating control limits. Defaults TRUE.","code":""},{"path":"/reference/ptd_spc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"SPC Plotting Function — ptd_spc","text":"object type ptd_spc_df. data.frame can manipulated like data.frame. default print() method ptd_spc_df call ptd_create_ggplot(), displaying plot. like get data.frame, call as_tibble() .data.frame() object.","code":""},{"path":"/reference/ptd_spc.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"SPC Plotting Function — ptd_spc","text":"function designed produce consistent SPC charts across Information Department reporting, according 'plot dots' logic produced NHSI. function can return either plot data frame.","code":""},{"path":"/reference/ptd_spc.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"SPC Plotting Function — ptd_spc","text":"","code":"library(NHSRdatasets) library(dplyr) #>  #> Attaching package: ‘dplyr’ #> The following objects are masked from ‘package:stats’: #>  #>     filter, lag #> The following objects are masked from ‘package:base’: #>  #>     intersect, setdiff, setequal, union data(\"ae_attendances\")  # Pick a trust at random to look at their data for two years trust1 <- subset(ae_attendances, org_code == \"RJZ\" & type == 1)  # Basic chart with improvement direction decreasing ptd_spc(trust1,   value_field = breaches, date_field = period,   improvement_direction = \"decrease\" )   # Pick a few trust, and plot individually using facet # Also set the x-axis scale to vary for each and date groups to 3 months orgs <- c(\"RAS\", \"RJZ\", \"RR1\", \"RJC\", \"RQ1\") trusts4 <- filter(ae_attendances, org_code %in% orgs, type == 1)  s <- ptd_spc(trusts4,   value_field = breaches, date_field = period, facet_field = org_code,   improvement_direction = \"decrease\" ) plot(s, fixed_y_axis_multiple = FALSE, x_axis_breaks = \"3 months\")   # Save the first chart as an object this time then alter the ggplot theme my_spc <- ptd_spc(trust1,   value_field = \"breaches\", date_field = \"period\",   improvement_direction = \"decrease\" )  plot(my_spc) + ggplot2::theme_classic()"},{"path":"/reference/ptd_spc_colours.html","id":null,"dir":"Reference","previous_headings":"","what":"SPC Colours — ptd_spc_colours","title":"SPC Colours — ptd_spc_colours","text":"Produces list colours controls geoms plot","code":""},{"path":"/reference/ptd_spc_colours.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"SPC Colours — ptd_spc_colours","text":"","code":"ptd_spc_colours(   common_cause = \"#a6a6a6\",   special_cause_improvement = \"#00b0f0\",   special_cause_neutral = \"#490092\",   special_cause_concern = \"#e46c0a\",   value_line = \"#a6a6a6\",   mean_line = \"#000000\",   lpl = \"#a6a6a6\",   upl = \"#a6a6a6\",   target = \"#de1b1b\",   trajectory = \"#490092\" )"},{"path":"/reference/ptd_spc_colours.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"SPC Colours — ptd_spc_colours","text":"common_cause, special_cause_improvement, special_cause_neutral, special_cause_concern colour points value_line colour line joining points mean_line colour \"mean\" (average) line lpl, upl colour lower upper process limit lines target colour target line trajectory colour trajectory line","code":""},{"path":"/reference/ptd_spc_colours.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"SPC Colours — ptd_spc_colours","text":"list colours","code":""},{"path":"/reference/ptd_target.html","id":null,"dir":"Reference","previous_headings":"","what":"Target — ptd_target","title":"Target — ptd_target","text":"Produces object can used adding Targets SPC chart. method provides two different ways add target: can either provide single value, apply target every facet SPC can provide named values targets, names correspond names facets, order different targets facet.","code":""},{"path":"/reference/ptd_target.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Target — ptd_target","text":"","code":"ptd_target(...)"},{"path":"/reference/ptd_target.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Target — ptd_target","text":"... Either single value, named values, target(s). See examples.","code":""},{"path":"/reference/ptd_target.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Target — ptd_target","text":"Either: single numeric value, case facets plot use target value named list single numeric values, item named one facets plot. facet specified target.","code":""},{"path":"/reference/ptd_target.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Target — ptd_target","text":"function helper provide data correct format use ptd_spc(). See Value section details return type. trying something like ptd_spc(list_of_values) can skip using function just use list_of_values, long list meets requirements listed .","code":""},{"path":"/reference/ptd_target.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Target — ptd_target","text":"","code":"# If you aren't using a faceted chart, or you want to use the same target for # each facet, you can simply call this method with a single value. For # example, to use a target of 90%:  ptd_target(0.9) #> [1] 0.9  # If you are using a faceted chart, and wish to use a different target for # each facet, then you can call this method, naming each value with the name # of the facet. Any facet that isn't listed will not have a target applied to # it.  # For example, to apply a target of 25 to the \"a\" facet and 10 to the \"b\" # facet:  ptd_target(   \"a\" = 25,   \"b\" = 10 ) #> $a #> [1] 25 #>  #> $b #> [1] 10 #>   # If you already have your data in a list, you do not need to use # ptd_target(). But, if you wanted to check that your values are valid, you # could call it like so:  my_targets <- list(\"a\" = 25, \"b\" = 10) do.call(ptd_target, my_targets) #> $a #> [1] 25 #>  #> $b #> [1] 10 #>   # or, if your targets are in a numeric vector: my_targets <- c(\"a\" = 25, \"b\" = 10) do.call(ptd_target, as.list(my_targets)) #> $a #> [1] 25 #>  #> $b #> [1] 10 #>"},{"path":"/news/index.html","id":"nhsrplotthedots-010","dir":"Changelog","previous_headings":"","what":"NHSRplotthedots 0.1.0","title":"NHSRplotthedots 0.1.0","text":"CRAN release: 2021-11-03 first release NHS-R Community’s ‘Plot Dots’ package. supports NHS England NHS Improvement’s ‘Making Data Count’ campaign encourages use run charts statistical process control charts informed decision making. package creates methods XmR charts, consideration multiple indicators facets, ‘rebasing’, applying rules sets summary indicators. package use across NHS, augmenting existing tools SQL MS Excel.","code":""}]
