<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Introduction to the `NHSRplotthedots` package • NHSRplotthedots</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to the `NHSRplotthedots` package">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">NHSRplotthedots</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/NHSRplotthedots.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/number-of-points-required.html">Number of points required</a></li>
    <li><a class="dropdown-item" href="../articles/deviations.html">Deviations from Excel defaults</a></li>
    <li><a class="dropdown-item" href="../articles/other-spc-tools.html">Other SPC tools</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/nhs-r-community/NHSRplotthedots/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Introduction to the `NHSRplotthedots` package</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/nhs-r-community/NHSRplotthedots/blob/0.2.0/vignettes/NHSRplotthedots.Rmd" class="external-link"><code>vignettes/NHSRplotthedots.Rmd</code></a></small>
      <div class="d-none name"><code>NHSRplotthedots.Rmd</code></div>
    </div>

    
    
<p>Welcome to the NHS-R community’s collaborative package for building a
specific type of statistical process control (SPC) chart, the XmR chart.
We are aiming to support the NHS England’s <a href="https://www.england.nhs.uk/publication/making-data-count/" class="external-link">‘Making
Data Count’ programme</a>, a programme which encourages boards,
managers, and analyst teams to present data in ways that show change
over time, and drive better understanding of indicators than ‘RAG’ (red,
amber, green) rated board reports often support.</p>
<p>This tutorial is a concise take on applying the function to some
Accident and Emergency breach data for some NHS hospitals. We’ll take
this from the <code>NHSRdatasets</code> package, another of our packages
providing example datasets for training in an NHS/healthcare
context.</p>
<p>The analyses below use the <code>tidyverse</code> packages:
<code>dplyr</code> to manipulate the data, and <code>ggplot2</code> for
plotting (when not using <code>NHSRplotthedots</code>).</p>
<p>Firstly, let’s load the data, filter for University Hospital
Birmingham NHS Foundation Trust, because they are a good example for the
type of charts below. Let’s also do a simple timeseries plot to see why
this is the case.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://nhsrplotthedots.nhsrcommunity.com" class="external-link">NHSRplotthedots</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/nhs-r-community/NHSRdatasets" class="external-link">NHSRdatasets</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://scales.r-lib.org" class="external-link">scales</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"ae_attendances"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ae_attendances</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">org_code</span> <span class="op">==</span> <span class="st">"RRK"</span>, <span class="va">type</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">period</span>, y <span class="op">=</span> <span class="va">breaches</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span><span class="st">"4-hour target breaches"</span>, labels <span class="op">=</span> <span class="va">comma</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_date.html" class="external-link">scale_x_date</a></span><span class="op">(</span><span class="st">"Date"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Example plot of A&amp;E breaches for organsiation: 'RRK'"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="NHSRplotthedots_files/figure-html/dataset-1.png" width="672"></p>
<p>This minimal plot shows the changes over time, and we will look at it
in two ways. The first, we’ll look at 2016/17 &amp; 2017/18, which is
apparently stable and, during 2018, the trust merged with another large
3-hospital provider trust, so the numbers through A&amp;E shot up
dramatically when combined under one trust code. We can use a change
point in our plots to consider this.</p>
<p>Let’s now use the <code>ptd_spc</code> function to draw our plot.</p>
<p>We need to provide it with a <code>data.frame</code> that contains
our data, and provide a <code>value_field</code> for the y-axis, and a
<code>date_field</code> for the x-axis. In addition, to ensure the
points are coloured correctly, we need to set the
<code>improvement_direction</code> to “decrease”, here (as fewer A&amp;E
breaches is better).</p>
<div class="section level2">
<h2 id="stable-period">Stable period<a class="anchor" aria-label="anchor" href="#stable-period"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">stable_set</span> <span class="op">&lt;-</span> <span class="va">ae_attendances</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>    <span class="va">org_code</span> <span class="op">==</span> <span class="st">"RRK"</span>,</span>
<span>    <span class="va">type</span> <span class="op">==</span> <span class="fl">1</span>,</span>
<span>    <span class="va">period</span> <span class="op">&lt;</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2018-04-01"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/ptd_spc.html">ptd_spc</a></span><span class="op">(</span></span>
<span>  <span class="va">stable_set</span>,</span>
<span>  value_field <span class="op">=</span> <span class="va">breaches</span>,</span>
<span>  date_field <span class="op">=</span> <span class="va">period</span>,</span>
<span>  improvement_direction <span class="op">=</span> <span class="st">"decrease"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="NHSRplotthedots_files/figure-html/stableperiod-1.png" width="672"></p>
<p>From the chart above, we can see the centre line (mean) and the
control limits calculated according the the XmR chart rules. Our points
that are between the control limits are within control and showing
‘common-cause’ or ‘natural’ variation. We can see 8 sequential points
coloured in blue. This is triggered by a rule that looks for &gt;=7
points on one side of the mean. This could be viewed as a period where
fewer breaches than average were detected, which may hold some learning
value for the organisation.</p>
</div>
<div class="section level2">
<h2 id="change-point">Change point<a class="anchor" aria-label="anchor" href="#change-point"></a>
</h2>
<p>From the first plot above, we can see that the change is noticed at
01/07/2019. We understand the reason for the change (the merging of two
trusts), and believe this will be the new normal range for the process,
so it would be valid to rebase at this point. To rebase (change the
modelling period for control limits), we can pass a vector of dates at
the point we wish to rebase using the <code><a href="../reference/ptd_rebase.html">ptd_rebase()</a></code>
function.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">change_set</span> <span class="op">&lt;-</span> <span class="va">ae_attendances</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">org_code</span> <span class="op">==</span> <span class="st">"RRK"</span>, <span class="va">type</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/ptd_spc.html">ptd_spc</a></span><span class="op">(</span><span class="va">change_set</span>,</span>
<span>  value_field <span class="op">=</span> <span class="va">breaches</span>,</span>
<span>  date_field <span class="op">=</span> <span class="va">period</span>,</span>
<span>  improvement_direction <span class="op">=</span> <span class="st">"decrease"</span>,</span>
<span>  rebase <span class="op">=</span> <span class="fu"><a href="../reference/ptd_rebase.html">ptd_rebase</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2018-07-01"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in ptd_add_short_group_warnings(.): Some groups have 'n &lt; 12'</span></span>
<span><span class="co">#&gt; observations. These have trial limits, which will be revised with each</span></span>
<span><span class="co">#&gt; additional observation until 'n = fix_after_n_points' has been reached.</span></span></code></pre></div>
<p><img src="NHSRplotthedots_files/figure-html/changepoint-1.png" width="672"></p>
<p>You can see that our limit calculation has now shifted at the rebase
point.</p>
</div>
<div class="section level2">
<h2 id="faceting">Faceting<a class="anchor" aria-label="anchor" href="#faceting"></a>
</h2>
<p>In <a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a>, a <code>facet</code> refers to splitting
or plotting by variables, into separate plots or regions. Imagine you
want to do an SPC for all trusts in a dataset, or all specialties at a
trust. Facet will help you do this, and you can pass the field that
controls this to the <code>ptd_spc</code> argument
<code>facet_field</code>.</p>
<p>Here we will pick 6 trusts at random and plot their breaches,
faceting across them.</p>
<p>We’ll also combine this with a couple more options that are specific
to the plot. This is done with the <code>ptd_create_ggplot</code>
function in the backend, but also works with the generic
<code>plot</code>. To find out the available options, see the help-file
for: <code><a href="../reference/ptd_create_ggplot.html">?ptd_create_ggplot</a></code>.</p>
<p>We will let the x-axis scale change for each plot for each plot
(otherwise some would look crushed against a larger trusts) and we will
also change the x-axis breaks to 3-months, as 1 month looked too
busy.)</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">facet_set</span> <span class="op">&lt;-</span> <span class="va">ae_attendances</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>    <span class="va">org_code</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"RRK"</span>, <span class="st">"RJC"</span>, <span class="st">"RJ7"</span>, <span class="st">"R1K"</span>, <span class="st">"R1H"</span>, <span class="st">"RQM"</span><span class="op">)</span>,</span>
<span>    <span class="va">type</span> <span class="op">==</span> <span class="fl">1</span>,</span>
<span>    <span class="va">period</span> <span class="op">&lt;</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2018-04-01"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/ptd_spc.html">ptd_spc</a></span><span class="op">(</span></span>
<span>  <span class="va">facet_set</span>,</span>
<span>  value_field <span class="op">=</span> <span class="va">breaches</span>,</span>
<span>  date_field <span class="op">=</span> <span class="va">period</span>,</span>
<span>  facet_field <span class="op">=</span> <span class="va">org_code</span>,</span>
<span>  improvement_direction <span class="op">=</span> <span class="st">"decrease"</span></span>
<span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span>fixed_y_axis_multiple <span class="op">=</span> <span class="cn">FALSE</span>, x_axis_breaks <span class="op">=</span> <span class="st">"3 months"</span><span class="op">)</span></span></code></pre></div>
<p><img src="NHSRplotthedots_files/figure-html/facetvignette-1.png" width="672"></p>
<p>From this, the point-size seems too big, and it would be worth
replacing the y-axis title with something better. Again, this is done
with the <code>plot</code> function arguments:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">facet_set</span> <span class="op">&lt;-</span> <span class="va">ae_attendances</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>    <span class="va">org_code</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"RRK"</span>, <span class="st">"RJC"</span>, <span class="st">"RJ7"</span>, <span class="st">"R1K"</span>, <span class="st">"R1H"</span>, <span class="st">"RQM"</span><span class="op">)</span>,</span>
<span>    <span class="va">type</span> <span class="op">==</span> <span class="fl">1</span>,</span>
<span>    <span class="va">period</span> <span class="op">&lt;</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2018-04-01"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/ptd_spc.html">ptd_spc</a></span><span class="op">(</span></span>
<span>  <span class="va">facet_set</span>,</span>
<span>  value_field <span class="op">=</span> <span class="va">breaches</span>,</span>
<span>  date_field <span class="op">=</span> <span class="va">period</span>,</span>
<span>  facet_field <span class="op">=</span> <span class="va">org_code</span>,</span>
<span>  improvement_direction <span class="op">=</span> <span class="st">"decrease"</span></span>
<span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>    fixed_y_axis_multiple <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>    x_axis_breaks <span class="op">=</span> <span class="st">"3 months"</span>,</span>
<span>    point_size <span class="op">=</span> <span class="fl">2</span>,</span>
<span>    y_axis_label <span class="op">=</span> <span class="st">"Number of 4-hour A&amp;E target breaches"</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="NHSRplotthedots_files/figure-html/facetvignette2-1.png" width="672"></p>
<p>As the plots are based on <a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a> you can override
elements of the styling and theme as additional arguments using
<code>theme</code>, or by using <code>theme_override</code> with your
new theme elements in a <code>list</code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">facet_set</span> <span class="op">&lt;-</span> <span class="va">ae_attendances</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>    <span class="va">org_code</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"RRK"</span>, <span class="st">"RJC"</span>, <span class="st">"RJ7"</span>, <span class="st">"R1K"</span>, <span class="st">"R1H"</span>, <span class="st">"RQM"</span><span class="op">)</span>,</span>
<span>    <span class="va">type</span> <span class="op">==</span> <span class="fl">1</span>,</span>
<span>    <span class="va">period</span> <span class="op">&lt;</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2018-04-01"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ptd_spc.html">ptd_spc</a></span><span class="op">(</span></span>
<span>  <span class="va">facet_set</span>,</span>
<span>  value_field <span class="op">=</span> <span class="va">breaches</span>,</span>
<span>  date_field <span class="op">=</span> <span class="va">period</span>,</span>
<span>  facet_field <span class="op">=</span> <span class="va">org_code</span>,</span>
<span>  improvement_direction <span class="op">=</span> <span class="st">"decrease"</span></span>
<span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>    fixed_y_axis_multiple <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>    x_axis_breaks <span class="op">=</span> <span class="st">"3 months"</span>,</span>
<span>    point_size <span class="op">=</span> <span class="fl">2</span>,</span>
<span>    y_axis_label <span class="op">=</span> <span class="st">"Number of 4-hour A&amp;E target breaches"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">a</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">6</span>, angle <span class="op">=</span> <span class="fl">45</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="NHSRplotthedots_files/figure-html/facetvignette3-1.png" width="672"></p>
<div class="section level3">
<h3 id="interactive-plots">Interactive plots<a class="anchor" aria-label="anchor" href="#interactive-plots"></a>
</h3>
<p>It’s also possible to create interactive plots using the
<a href="https://plotly-r.com" class="external-link">plotly</a> package by replacing the call to <code>plot</code>
with <code>ptd_create_plotly</code>. This takes the same arguments as
<code>plot</code> (and <code>ptd_create_ggplot</code>).</p>
<p>For instance, we can use the code from the last example to make an
interactive version:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ptd_spc.html">ptd_spc</a></span><span class="op">(</span></span>
<span>  <span class="va">facet_set</span>,</span>
<span>  value_field <span class="op">=</span> <span class="va">breaches</span>,</span>
<span>  date_field <span class="op">=</span> <span class="va">period</span>,</span>
<span>  facet_field <span class="op">=</span> <span class="va">org_code</span>,</span>
<span>  improvement_direction <span class="op">=</span> <span class="st">"decrease"</span></span>
<span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/ptd_create_plotly.html">ptd_create_plotly</a></span><span class="op">(</span></span>
<span>    fixed_y_axis_multiple <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>    x_axis_breaks <span class="op">=</span> <span class="st">"3 months"</span>,</span>
<span>    point_size <span class="op">=</span> <span class="fl">2</span>,</span>
<span>    y_axis_label <span class="op">=</span> <span class="st">"Number of 4-hour A&amp;E target breaches"</span>,</span>
<span>    icons_position <span class="op">=</span> <span class="st">"none"</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="come-and-join-us">Come and join us!<a class="anchor" aria-label="anchor" href="#come-and-join-us"></a>
</h2>
<p>This is a collaborative project that is still early in its life. All
contributors are volunteers, and more volunteers would be very welcome
(there’s even stuff that doesn’t require <code>R</code> coding to help
with!).</p>
<p>Find out more at: <a href="https://github.com/nhs-r-community/NHSRplotthedots" class="external-link">github.com/nhs-r-community/NHSRplotthedots</a></p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Tom Smith, Christopher Reading, Simon Wellesley-Miller, Zoë Turner, Tom Jemmett, Chris Mainey, John MacKintosh, Marcos Fabietti, Fran Barton.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
